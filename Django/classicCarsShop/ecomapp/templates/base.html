{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Custom Oldtimers homepage  </title>

    <!-- Bootstrap Core CSS -->
    <!--<link href="css/bootstrap.min.css" rel="stylesheet"> -->
    <link rel='stylesheet' href='{% static "css/bootstrap.css" %}'>
    <!-- Custom CSS -->
    <!--<link href="css/shop-homepage.css" rel="stylesheet">-->
    <link rel='stylesheet' href='{% static "css/shop-homepage.css" %}'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body style="background: url(/media/27.jpg) 0 0 repeat;">

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Custom Oldtimers</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                   
                    {% if not request.user.is_authenticated %}
                   	<li>
                   		<p class="navbar-text">Здравствуйте, гость!</p>
                   	</li>
                    <li>
                        <a href ='{% url "login" %}'>Войти</a>
                    </li>
                    <li>
                        <a href ='{% url "registration" %}'>Зарегистрироваться</a>
                    </li>
                   	{% else %}
                   	<li>
                   	<p class="navbar-text">Здравствуйте, {{ request.user }}!
                   	</p>
                   	<li>
                   		<a href ='{% url "account" %}'>Личный кабинет</a>
                   	</li>
                    <li>
                        <a href ='{% url "logout" %}'>Выйти</a>
                    </li>
                   </li>
                   {% endif %}
                </ul>
                {% if request.user.is_authenticated %}
                <ul class="nav navbar-nav navbar-right">
                	<li><a href='{% url "requests" %}'>Моя заявка</a></li>
                </ul>
                {% endif %}
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>
   
    <!-- Page Content -->
    <div class="container">
 	{% block content %}
        <div class="row">

            <div class="col-md-3">
                <p class="lead">Фильтры</p>
                <hr>
                <div class="list-group">
                    <form action = '' method="GET">
                    <!--<a href="#" class="list-group-item">Category 1</a>
                    <a href="#" class="list-group-item">Category 2</a>
                    <a href="#" class="list-group-item">Category 3</a>-->
                    <h5>Цена, $</h5>
                    <div>
                        <input type="text" name="first_cost" id="first-cost" placeholder="Oт" maxlength="10" class='input-sm' size="13">
                        <input type="text" name="last_cost" id="last-cost" placeholder="До" maxlength="10" class='input-sm' size="14">
                    </div>
                    <h5>Год выпуска</h5>
                    <div>
                         C <select class='input-sm' name="first_year" id="first-year" style="width: 110px"><option value="">Любой<option value="1990">1990</option><option value="1989">1989</option><option value="1988">1988</option><option value="1987">1987</option><option value="1986">1986</option><option value="1985">1985</option><option value="1984">1984</option><option value="1983">1983</option><option value="1982">1982</option><option value="1981">1981</option><option value="1980">1980</option><option value="1979">1979</option><option value="1978">1978</option><option value="1977">1977</option><option value="1976">1976</option><option value="1975">1975</option><option value="1974">1974</option><option value="1973">1973</option><option value="1972">1972</option><option value="1971">1971</option><option value="1970">1970</option><option value="1969">1969</option><option value="1968">1968</option><option value="1967">1967</option><option value="1966">1966</option><option value="1965">1965</option><option value="1964">1964</option><option value="1963">1963</option><option value="1962">1962</option><option value="1961">1961</option><option value="1960">1960</option><option value="1959">1959</option><option value="1958">1958</option><option value="1957">1957</option><option value="1956">1956</option><option value="1955">1955</option><option value="1954">1954</option><option value="1953">1953</option><option value="1952">1952</option><option value="1951">1951</option><option value="1950">1950</option><option value="1949">1949</option><option value="1948">1948</option><option value="1947">1947</option><option value="1946">1946</option><option value="1945">1945</option><option value="1944">1944</option><option value="1943">1943</option><option value="1942">1942</option><option value="1941">1941</option><option value="1940">1940</option><option value="1939">1939</option><option value="1938">1938</option><option value="1937">1937</option><option value="1936">1936</option><option value="1935">1935</option><option value="1934">1934</option><option value="1933">1933</option><option value="1932">1932</option><option value="1931">1931</option><option value="1930">1930</option><option value="1929">1929</option><option value="1928">1928</option><option value="1927">1927</option><option value="1926">1926</option><option value="1925">1925</option><option value="1924">1924</option><option value="1923">1923</option><option value="1922">1922</option><option value="1921">1921</option><option value="1920">1920</option><option value="1919">1919</option><option value="1918">1918</option><option value="1917">1917</option><option value="1916">1916</option><option value="1915">1915</option><option value="1914">1914</option><option value="1913">1913</option><option value="1912">1912</option><option value="1911">1911</option><option value="1910">1910</option><option value="1909">1909</option><option value="1908">1908</option><option value="1907">1907</option><option value="1906">1906</option><option value="1905">1905</option><option value="1904">1904</option><option value="1903">1903</option><option value="1902">1902</option><option value="1901">1901</option><option value="1900">1900</option>
                    </select>
                    До <select class='input-sm' name="last_year" id="last-year" style="width: 110px" ><option value="">Любой<option value="1990">1990</option><option value="1989">1989</option><option value="1988">1988</option><option value="1987">1987</option><option value="1986">1986</option><option value="1985">1985</option><option value="1984">1984</option><option value="1983">1983</option><option value="1982">1982</option><option value="1981">1981</option><option value="1980">1980</option><option value="1979">1979</option><option value="1978">1978</option><option value="1977">1977</option><option value="1976">1976</option><option value="1975">1975</option><option value="1974">1974</option><option value="1973">1973</option><option value="1972">1972</option><option value="1971">1971</option><option value="1970">1970</option><option value="1969">1969</option><option value="1968">1968</option><option value="1967">1967</option><option value="1966">1966</option><option value="1965">1965</option><option value="1964">1964</option><option value="1963">1963</option><option value="1962">1962</option><option value="1961">1961</option><option value="1960">1960</option><option value="1959">1959</option><option value="1958">1958</option><option value="1957">1957</option><option value="1956">1956</option><option value="1955">1955</option><option value="1954">1954</option><option value="1953">1953</option><option value="1952">1952</option><option value="1951">1951</option><option value="1950">1950</option><option value="1949">1949</option><option value="1948">1948</option><option value="1947">1947</option><option value="1946">1946</option><option value="1945">1945</option><option value="1944">1944</option><option value="1943">1943</option><option value="1942">1942</option><option value="1941">1941</option><option value="1940">1940</option><option value="1939">1939</option><option value="1938">1938</option><option value="1937">1937</option><option value="1936">1936</option><option value="1935">1935</option><option value="1934">1934</option><option value="1933">1933</option><option value="1932">1932</option><option value="1931">1931</option><option value="1930">1930</option><option value="1929">1929</option><option value="1928">1928</option><option value="1927">1927</option><option value="1926">1926</option><option value="1925">1925</option><option value="1924">1924</option><option value="1923">1923</option><option value="1922">1922</option><option value="1921">1921</option><option value="1920">1920</option><option value="1919">1919</option><option value="1918">1918</option><option value="1917">1917</option><option value="1916">1916</option><option value="1915">1915</option><option value="1914">1914</option><option value="1913">1913</option><option value="1912">1912</option><option value="1911">1911</option><option value="1910">1910</option><option value="1909">1909</option><option value="1908">1908</option><option value="1907">1907</option><option value="1906">1906</option><option value="1905">1905</option><option value="1904">1904</option><option value="1903">1903</option><option value="1902">1902</option><option value="1901">1901</option><option value="1900">1900</option></select>
                    </div>
                    <h5>Марка</h5>
                    <div>
                    <select class='input-sm' name="filter_mark" id="filter-mark" style="width: 260px">
                        <option value="">Любая</option>
                        {% for mark in massmarks %}
                        <option value="{{ mark }}">{{ mark }}</option>
                        {% endfor %}
                    </select>
                    </div>
                    <h5>Модель</h5>
                    <div>
                    <select class='input-sm' name="filter_model" id="filter-model" style="width: 260px">
                        <option value="">Любая</option>
                        {% for model in massmodels %}
                        <option value="{{ model }}">{{ model }}</option>
                        {% endfor %}
                    </select>
                    </div>
                    <h5>Кузов</h5>
                    <div>
                    <select class='input-sm' name="filter_body" id="filter-body" style="width: 260px">
                        <option value="">Любой</option>
                        <option value="купе">купе</option>
                        <option value="универсал">универсал</option>
                        <option value="хетчбэк">хетчбэк</option>
                        <option value="кабриолет">кабриолет</option>
                        <option value="родстер">родстер</option>
                        <option value="пикап">пикап</option>
                        <option value="лимузин">лимузин</option>
                        <option value="тарга">тарга</option>
                        <option value="внедорожник">внедорожник</option>
                        <option value="кроссовер">кроссовер</option>
                        <option value="фургон">фургон</option>
                        <option value="автобус">автобус</option>
                        <option value="микроавтобус">микроавтобус</option>
                        <option value="грузовик">грузовик</option>
                        <option value="минивэн">минивэн</option>
                    </select>
                    </div>
                    <h5>Цвет</h5>
                    <div>
                    <select class='input-sm' name="filter_color" id="filter-color" style="width: 260px">
                        <option value="">Любой</option>
                        {% for color in masscolors %}
                        <option value="{{ color }}">{{ color }}</option>
                        {% endfor %}
                    </select>
                    </div>
                    <h5>Двигатель</h5>
                    <div>
                    <select class='input-sm' name="filter_engine" id="filter-engine" style="width: 260px">
                        <option value="">Любой</option>
                        {% for engine in massengines %}
                        <option value="{{ engine }}">{{ engine }}</option>
                        {% endfor %}
                    </select>
                    </div>
                     <h5>Коробка передач</h5>
                    <div>
                    <input type="checkbox" name="filter_KPP1" id="filter-KPP1" value="МКПП">
                    <label>МКПП</label>
                    <input type="checkbox" name="filter_KPP2" id="filter-KPP2" value="АКПП">
                    <label>АКПП</label>
                    <h5>Привод</h5>
                    <div>
                    <select class='input-sm' name="filter_unit" id="filter-unit" style="width: 260px">
                        <option value="">Любой</option>
                        <option value="RWD">Задний</option>
                        <option value="FWD">Передний</option>
                        <option value="AWD">Полный</option>
                    </select>
                    </div>
                    </div>
                    <h5>Пробег, км</h5>
                    <div>
                        <input type="text" name="first_mileage" id="first-mileage" placeholder="Oт" maxlength="10" class='input-sm' size="13">
                        <input type="text" name="last_mileage" id="last-mileage" placeholder="До" maxlength="10" class='input-sm' size="14">
                    </div>
                    <h5>Ателье</h5>
                    <div>
                    <select class='input-sm' name="filter_supplier" id="filter-supplier" style="width: 260px">
                        <option value="">Любое</option>
                        {% for supplier in masssuppliers %}
                        <option value="{{ supplier }}">{{ supplier }}</option>
                        {% endfor %}
                    </select>
                    </div>
                    <hr>
                    <button name='filter_button' id='filter-button' class='btn btn-info' style="width: 260px">Поиск</button>
                    </form>
                    <br>
                    <a href="/"><button class='btn btn-danger' style="width: 260px">Отчистить результаты поиска</button></a>
                    <hr>
                </div>
            </div>

            <div class="col-md-9">

                <div class="row carousel-holder">

                    <div class="col-md-12">
                        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                            
                            <div class="carousel-inner">
                            	{% for mycar in mycars%}
                            	{% if forloop.first %}
                                <div class="item active">
                                   <a href='{{ mycar.get_absolute_url }}'> <img class="slide-image" src="{{ mycar.photos.url }}" alt="" style="padding-left: 100px; padding-right: 100px; height: 450px;"></a>
                                </div>
                                {% else %}
                                <div class="item">
                                    <a href='{{ mycar.get_absolute_url }}'><img class="slide-image" src="{{ mycar.photos.url }}" alt="" style="padding-left: 100px; padding-right: 100px; height: 450px;"></a>
                                </div>
                                {% endif %}
                                {% endfor %}
                               
                            </div>
                            <a class="left carousel-control" href="#carousel-example-generic" data-slide="prev" >
                                <span class="glyphicon glyphicon-chevron-left" style="color: black"></span>
                            </a>
                            <a class="right carousel-control" href="#carousel-example-generic" data-slide="next" >
                                <span class="glyphicon glyphicon-chevron-right" style="color: black"></span>
                            </a>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <hr>
                    <div class="order_by" style="margin-left:  15px">
                        <h4 class="text-center">Сортировки</h4>
                        <form action = '' method="GET">
                        <button name='news_order' id='news-order' class='btn btn-info' value='true' >Новинки</button>
                        <button name='order_by_cost' id='order-cost' class='btn btn-info' value='true'>По возрастанию цены</button>
                        <button name='order_by_cost_distinct' id='order-cost-distinct' class='btn btn-info' value='true' >По убыванию цены</button>
                        <button name='order_by_year' id='order-year' class='btn btn-info' value='true'>По году выпуска(возрастание)</button>
                        <button name='order_by_year_distinct' id='order-year-distinct' class='btn btn-info' value='true'>По году выпуска(убывание)</button>
                        </form>
                    </div>
                    <hr>
                	{% for mycar in mycars %}
                    <div class="col-sm-4 col-lg-4 col-md-4">
                        <div class="thumbnail">
                            <div>
                            <img src="{{ mycar.photos.url }}" alt="" style='width:100%; height: 200px;'>
                            </div>
                            <div class="caption">
                                <h4 class="pull-right">{{ mycar.cost }}$</h4>
                                <h6><strong><a href="{{ mycar.get_absolute_url }}">{{ mycar.car.car }} {{ mycar.options }} {{ mycar.car_year}} {{ mycar.car.shipper  }}</strong></a>
                                </h4>
                                <p>{{ mycar.description }}</p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}                    

                </div>

            </div>

        </div>
         {% endblock content %}
    </div>
   
    <!-- /.container -->

    <div class="container">

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Custom Oldtimers 2019</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <!--<script src="js/jquery.js"></script>-->
    
 	<script src='{% static "js/jquery.js" %}'></script>
    <!-- Bootstrap Core JavaScript-->
    <script>
    $(document).ready(function(){
        $('#order-cost').on('click', function(){
            order_by_cost = $(this).val()
            news_order = 'false'
            order_by_cost_distinct = 'false'
            order_by_year = 'false'
            order_by_year_distinct = 'false'
            data = {
                order_by_year: order_by_year,
                order_by_year_distinct: order_by_year_distinct,
                order_by_cost: order_by_cost,
                order_by_cost_distinct: order_by_cost_distinct,
                news_order: news_order
            }
            $.ajax({
                type: "GET",
                url: '{% url "order_by_view" %}',
                data: data,
                success: function(data){

                }
            })
        })
        $('#news-order').on('click', function(){
            order_by_cost = 'false'
            news_order = $(this).val()
            order_by_cost_distinct = 'false'
            order_by_year = 'false'
            order_by_year_distinct = 'false'
            data = {
                order_by_year: order_by_year,
                order_by_year_distinct: order_by_year_distinct,
                order_by_cost: order_by_cost,
                order_by_cost_distinct: order_by_cost_distinct,
                news_order: news_order
            }
            $.ajax({
                type: "GET",
                url: '{% url "order_by_view" %}',
                data: data,
                success: function(data){

                }
            })
        })
        $('#order-cost-distinct').on('click', function(){
            order_by_cost_distinct = $(this).val()
            news_order = 'false'
            order_by_cost = 'false'
            order_by_year = 'false'
            order_by_year_distinct = 'false'
            data = {
                order_by_year: order_by_year,
                order_by_year_distinct: order_by_year_distinct,
                order_by_cost: order_by_cost,
                order_by_cost_distinct: order_by_cost_distinct,
                news_order: news_order
            }
            $.ajax({
                type: "GET",
                url: '{% url "order_by_view" %}',
                data: data,
                success: function(data){

                }
            })
        })
        $('#order-year').on('click', function(){
            order_by_year = $(this).val()
            news_order = 'false'
            order_by_cost = 'false'
            order_by_cost_distinct = 'false'
            order_by_year_distinct = 'false'
            data = {
                order_by_year: order_by_year,
                order_by_year_distinct: order_by_year_distinct,
                order_by_cost: order_by_cost,
                order_by_cost_distinct: order_by_cost_distinct,
                news_order: news_order
            }
            $.ajax({
                type: "GET",
                url: '{% url "order_by_view" %}',
                data: data,
                success: function(data){

                }
            })
        })
        $('#order-year-distinct').on('click', function(){
            order_by_year_distinct = $(this).val()
            news_order = 'false'
            order_by_cost = 'false'
            order_by_year = 'false'
            order_by_cost_distinct = 'false'
            data = {
                order_by_year: order_by_year,
                order_by_year_distinct: order_by_year_distinct,
                order_by_cost: order_by_cost,
                order_by_cost_distinct: order_by_cost_distinct,
                news_order: news_order
            }
            $.ajax({
                type: "GET",
                url: '{% url "order_by_view" %}',
                data: data,
                success: function(data){

                }
            })
        })
        $('#filter-button').on('click', function(){
            first_cost = $('#first-cost').val()
            last_cost = $('#last-cost').val()
            first_year =$('#first-year').val()
            last_year =$('#last-year').val()
            filter_mark =$('#filter-mark').val()
            filter_model =$('#filter-model').val()
            filter_body =$('#filter-body').val()
            filter_color =$('#filter-color').val()
            filter_engine =$('#filter-engine').val()
            filter_KPP1 =$('#filter-KPP1').val()
            filter_KPP2 =$('#filter-KPP2').val()
            filter_unit =$('#filter-unit').val()
            first_mileage = $('#first-mileage').val()
            last_mileage = $('#last-mileage').val()
            filter_supplier =$('#filter-supplier').val()
            data = {
                first_cost: first_cost,
                last_cost: last_cost,
                first_year: first_year,
                last_year: last_year,
                filter_mark: filter_mark,
                filter_model: filter_model,
                filter_body: filter_body,
                filter_color: filter_color,
                filter_engine: filter_engine,
                filter_KPP1: filter_KPP1,
                filter_KPP2: filter_KPP2,
                filter_unit: filter_unit,
                first_mileage: first_mileage,
                last_mileage: last_mileage,
                filter_supplier: filter_supplier
            }
            $.ajax({
                type: "GET",
                url: '{% url "filter_view" %}',
                data: data,
                success: function(data){
                    
            }
            })
        })

    })
    </script>


    <!--<script src="js/bootstrap.min.js"></script>-->
    <script src='{% static "js/bootstrap.js" %}'></script>
   

</body>
</html>
